<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="create_run_jar" name="Create Runnable Jar for Project HPTerminal">
    <!--this file was created by Eclipse Runnable JAR Export Wizard-->
    <!--ANT 1.7 is required                                        -->
    <property name="src" location="./src"/>
    <property name="bin" location="./bin"/>
    <property name="lib" location="./lib"/>

    <target name="init">
    <!-- Create the time stamp -->
    <tstamp/>
    <!-- Create the build directory structure used by compile -->
    <mkdir dir="${bin}/mh"/>
    </target>

    <target name="compile" description="compile the source" depends="init">
    <javac srcdir="${src}" destdir="${bin}">
        <classpath>
            <fileset dir="${lib}">
                <include name="*.jar" />
            </fileset>
        </classpath>
    </javac>
    </target>

    <target name="create_run_jar" depends="compile">

    	<delete dir="./bin/mh/rsc"/>
        <mkdir dir="./bin/mh/rsc"/>
        <copy file="resources/icnAlpha.png" todir="./bin/mh/rsc"/>
        <copy file="resources/icnGraph.png" todir="./bin/mh/rsc"/>
        <copy file="resources/combinedalpha-16x30.png" todir="./bin/mh/rsc"/>
        <copy file="resources/beep.wav" todir="./bin/mh/rsc"/>
        <copy file="resources/HPTerminal.ttf" todir="./bin/mh/rsc"/>
 
        <jar destfile="./HPTerminal.jar" filesetmanifest="mergewithoutmain">
            <manifest>
                <attribute name="Main-Class" value="mh.HPTerminalApplication"/>
                <attribute name="Class-Path" value="."/>
            </manifest>
            <fileset dir="./bin"/>
            <fileset dir="./resources" includes="*.pdf" excludes="*.docx"/>
            <fileset dir="./resources" includes="*.cmd,*.sh"/>
            <zipgroupfileset dir="${lib}" includes="*.jar"/>
        </jar>
    </target>
    <target name="clean" description="clean up">
    <delete dir ="${bin}"/>
    <delete file ="./HPTerminal.jar"/>
    </target>
</project>
